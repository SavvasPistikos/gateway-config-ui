{"swagger":"2.0","info":{"description":"API specification","version":"1.0","title":"dms-services"},"tags":[{"name":"Software Services"},{"name":"Storage Services"},{"name":"Terminal Services"}],"schemes":["http","https"],"paths":{"/api/v1.0/software/{filename}":{"get":{"tags":["Software Services"],"summary":"Download Software","description":"","operationId":"downloadSw","produces":["application/octet-stream"],"parameters":[{"name":"filename","in":"path","required":true,"type":"string"}],"responses":{"default":{"description":"successful operation"}}}},"/api/v1.0/minio/putPresignedUrl":{"get":{"tags":["Storage Services"],"summary":"MinIO Presigned URL to PUT a file","description":"","operationId":"putPresignedUrl","produces":["text/plain"],"parameters":[{"name":"filename","in":"query","required":true,"type":"string"}],"responses":{"200":{"description":"successful operation","schema":{"type":"string"},"responseSchema":{"type":"string"}}}}},"/api/v1.0/terminals/modes":{"get":{"tags":["Terminal Services"],"summary":"Get Terminal Modes","description":"","operationId":"getTerminalModes","consumes":["application/json"],"produces":["application/json"],"parameters":[],"responses":{"200":{"description":"successful operation","schema":{"type":"array","items":{"originalRef":"TerminalMode","$ref":"#/definitions/TerminalMode"}},"responseSchema":{"type":"array","items":{"originalRef":"TerminalMode","$ref":"#/definitions/TerminalMode"}}}}}},"/api/v1.0/terminals/radius":{"post":{"tags":["Terminal Services"],"summary":"Generate Radius File","description":"","operationId":"getRadius","consumes":["text/plain"],"produces":["application/json"],"parameters":[{"name":"type","in":"query","required":true,"type":"integer","format":"int32"},{"name":"Authorization","in":"header","required":false,"type":"string"}],"responses":{"200":{"description":"successful operation","schema":{"type":"string"},"responseSchema":{"type":"string"}}}}},"/api/v1.0/terminals/{id}/config":{"get":{"tags":["Terminal Services"],"summary":"Terminal configuration Data","description":"","operationId":"getConfiguration","produces":["application/json"],"parameters":[{"name":"id","in":"path","required":true,"type":"integer","format":"int64"},{"name":"type","in":"query","required":true,"type":"string","enum":["DMC","Canvas"]}],"responses":{"200":{"description":"successful operation","schema":{"type":"array","items":{"type":"object","additionalProperties":{"type":"object"}}},"responseSchema":{"type":"array","items":{"type":"object","additionalProperties":{"type":"object"}}}}}}},"/api/v1.0/terminals/alias/{alias}":{"get":{"tags":["Terminal Services"],"summary":"Get Terminal By Alias","description":"","operationId":"getTerminalByAlias","consumes":["application/json"],"produces":["application/json"],"parameters":[{"name":"alias","in":"path","required":true,"type":"string"}],"responses":{"200":{"description":"successful operation","schema":{"originalRef":"TerminalDTO","$ref":"#/definitions/TerminalDTO"},"responseSchema":{"originalRef":"TerminalDTO","$ref":"#/definitions/TerminalDTO"}}}}},"/api/v1.0/terminals/{id}":{"get":{"tags":["Terminal Services"],"summary":"Get Terminal By ID","description":"","operationId":"getTerminalById","consumes":["application/json"],"produces":["application/json"],"parameters":[{"name":"id","in":"path","required":true,"type":"integer","format":"int64"}],"responses":{"200":{"description":"successful operation","schema":{"originalRef":"Terminal","$ref":"#/definitions/Terminal"},"responseSchema":{"originalRef":"Terminal","$ref":"#/definitions/Terminal"}}}}},"/api/v1.0/terminals/signon":{"post":{"tags":["Terminal Services"],"summary":"Signon","description":"","operationId":"signon","consumes":["application/json"],"produces":["application/json"],"parameters":[{"in":"body","name":"body","required":false,"schema":{"originalRef":"DMCLoginRequest","$ref":"#/definitions/DMCLoginRequest"}}],"responses":{"default":{"description":"successful operation"}}}},"/api/v1.0/terminals/{id}/verification":{"post":{"tags":["Terminal Services"],"summary":"Verify terminal status and retailer","description":"","operationId":"verifyTerminal","produces":["application/json"],"parameters":[{"name":"id","in":"path","required":true,"type":"integer","format":"int64"},{"name":"retailerId","in":"header","required":true,"type":"integer","format":"int32"}],"responses":{"200":{"description":"successful operation","schema":{"originalRef":"VerifyTerminalResponse","$ref":"#/definitions/VerifyTerminalResponse"},"responseSchema":{"originalRef":"VerifyTerminalResponse","$ref":"#/definitions/VerifyTerminalResponse"}}}}},"/api/v1.0/terminals/{id}/inactive-games":{"post":{"tags":["Terminal Services"],"summary":"Validate terminal inactive Games","description":"","operationId":"inactiveGames","consumes":["application/json"],"produces":["application/json"],"parameters":[{"name":"id","in":"path","required":true,"type":"integer","format":"int32"},{"in":"body","name":"body","required":false,"schema":{"originalRef":"InactiveGamesRequest","$ref":"#/definitions/InactiveGamesRequest"}}],"responses":{"default":{"description":"successful operation"}}}},"/api/v1.0/terminals/{id}/unenroll":{"post":{"tags":["Terminal Services"],"summary":"Terminal unenrollment","description":"","operationId":"unenroll","produces":["application/json"],"parameters":[{"name":"id","in":"path","required":true,"type":"integer","format":"int64"}],"responses":{"200":{"description":"successful operation","schema":{"type":"boolean"},"responseSchema":{"type":"boolean"}}}}},"/api/v1.0/terminals/{id}/versions":{"post":{"tags":["Terminal Services"],"summary":"Check terminal modules for an updated version","description":"","operationId":"versionsCheck","produces":["application/json"],"parameters":[{"name":"id","in":"path","required":true,"type":"integer","format":"int64"},{"in":"body","name":"body","required":false,"schema":{"type":"object","additionalProperties":{"type":"object"}}}],"responses":{"200":{"description":"successful operation","schema":{"type":"array","items":{"type":"object","additionalProperties":{"type":"object"}}},"responseSchema":{"type":"array","items":{"type":"object","additionalProperties":{"type":"object"}}}}}}},"/api/v1.0/terminals":{"get":{"tags":["Terminal Services"],"summary":"Retrieve a page of all terminals","description":"Retrieve a page of all terminals","operationId":"findTerminals","produces":["application/json"],"parameters":[{"name":"type","in":"query","description":"type","required":false,"type":"integer","format":"int32"},{"name":"page","in":"query","required":false,"type":"integer","default":0},{"name":"limit","in":"query","required":false,"type":"integer","default":10},{"name":"sort","in":"query","required":false,"type":"string","default":"asc"},{"name":"column","in":"query","required":false,"type":"string","default":"id"},{"name":"Authorization","in":"header","required":false,"type":"string"}],"responses":{"200":{"description":"successful operation","schema":{"originalRef":"Terminal","$ref":"#/definitions/Terminal"},"responseSchema":{"originalRef":"Terminal","$ref":"#/definitions/Terminal"}}}}},"/api/v1.0/terminals/{id}/qr":{"get":{"tags":["Terminal Services"],"summary":"Terminal qr code pdf","description":"","operationId":"getQRCode","produces":["application/pdf"],"parameters":[{"name":"id","in":"path","required":true,"type":"integer","format":"int64"},{"name":"manual","in":"query","required":true,"type":"boolean","default":false}],"responses":{"default":{"description":"successful operation"}}}},"/api/v1.0/terminals/{id}/qr/image":{"get":{"tags":["Terminal Services"],"summary":"Terminal qr code image","description":"","operationId":"getQRCodeImage","produces":["image/png"],"parameters":[{"name":"id","in":"path","required":true,"type":"integer","format":"int64"}],"responses":{"default":{"description":"successful operation"}}}},"/api/v1.0/terminals/{id}/qr/plain":{"get":{"tags":["Terminal Services"],"summary":"Terminal qr code plain data","description":"","operationId":"getQRCodePlain","produces":["application/json"],"parameters":[{"name":"id","in":"path","required":true,"type":"integer","format":"int64"}],"responses":{"default":{"description":"successful operation"}}}}},"definitions":{"TerminalMode":{"type":"object","properties":{"id":{"type":"integer","format":"int32"},"description":{"type":"string"},"status":{"type":"integer","format":"int32"}}},"TerminalDTO":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"alias":{"type":"string"}}},"HwSupport":{"type":"object","properties":{"id":{"originalRef":"HwSupportId","$ref":"#/definitions/HwSupportId"}}},"HwSupportId":{"type":"object","properties":{"versionId":{"type":"integer","format":"int32"},"hwId":{"type":"integer","format":"int32"},"terminalId":{"type":"integer","format":"int64"}}},"InactiveGame":{"type":"object","properties":{"id":{"originalRef":"InactiveGameId","$ref":"#/definitions/InactiveGameId"},"fromTime":{"type":"string","format":"date-time"},"toTime":{"type":"string","format":"date-time"}}},"InactiveGameId":{"type":"object","properties":{"versionId":{"type":"integer","format":"int32"},"gameId":{"type":"integer","format":"int32"},"day":{"type":"integer","format":"int32"},"terminalId":{"type":"integer","format":"int64"}}},"LocalTime":{"type":"object","properties":{"hour":{"type":"integer","format":"int32"},"minute":{"type":"integer","format":"int32"},"second":{"type":"integer","format":"int32"},"nano":{"type":"integer","format":"int32"}}},"Mode":{"type":"object","properties":{"id":{"originalRef":"ModeId","$ref":"#/definitions/ModeId"}}},"ModeId":{"type":"object","properties":{"versionId":{"type":"integer","format":"int32"},"modeId":{"type":"integer","format":"int32"},"terminalId":{"type":"integer","format":"int64"}}},"RetailerEmployee":{"type":"object","properties":{"id":{"type":"integer","format":"int32"},"retailerId":{"type":"integer","format":"int32"},"username":{"type":"string"}}},"RetailerTerminal":{"type":"object","properties":{"terminalId":{"type":"integer","format":"int64"},"retailerId":{"type":"integer","format":"int32"},"sequence":{"type":"integer","format":"int32"}}},"Terminal":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"status":{"type":"integer","format":"int32"},"retailer":{"originalRef":"RetailerTerminal","$ref":"#/definitions/RetailerTerminal"},"alias":{"type":"string"},"uniqueDeviceId":{"type":"string"},"type":{"type":"integer","format":"int32"},"failures":{"type":"integer","format":"int32"},"islocked":{"type":"boolean"},"cashRegister":{"type":"boolean"},"loginDate":{"type":"string","format":"date-time"},"lockedDate":{"type":"string","format":"date-time"},"operationCode":{"type":"integer","format":"int32"},"communicationCode":{"type":"integer","format":"int32"},"posSoftwareCode":{"type":"integer","format":"int32"},"posSoftwareDate":{"type":"string","format":"date-time"},"softwares":{"type":"array","uniqueItems":true,"items":{"originalRef":"TerminalSoftware","$ref":"#/definitions/TerminalSoftware"}},"blockedUsers":{"type":"array","uniqueItems":true,"items":{"originalRef":"RetailerEmployee","$ref":"#/definitions/RetailerEmployee"}},"blockedTimes":{"type":"array","uniqueItems":true,"items":{"originalRef":"TerminalBlockTime","$ref":"#/definitions/TerminalBlockTime"}},"communicationMain":{"originalRef":"TerminalCommunicationMain","$ref":"#/definitions/TerminalCommunicationMain"},"communicationDetails":{"type":"array","uniqueItems":true,"items":{"originalRef":"TerminalCommunicationDetails","$ref":"#/definitions/TerminalCommunicationDetails"}},"operational":{"originalRef":"TerminalOper","$ref":"#/definitions/TerminalOper"},"terminalModes":{"type":"array","uniqueItems":true,"items":{"originalRef":"Mode","$ref":"#/definitions/Mode"}},"terminalHwSupport":{"type":"array","uniqueItems":true,"items":{"originalRef":"HwSupport","$ref":"#/definitions/HwSupport"}},"inactiveGames":{"type":"array","uniqueItems":true,"items":{"originalRef":"InactiveGame","$ref":"#/definitions/InactiveGame"}},"clientMain":{"originalRef":"TerminalClientMain","$ref":"#/definitions/TerminalClientMain"},"clientDetails":{"type":"array","uniqueItems":true,"items":{"originalRef":"TerminalClientDetails","$ref":"#/definitions/TerminalClientDetails"}},"horizonMonitors":{"type":"array","uniqueItems":true,"items":{"originalRef":"TerminalHorizonMonitor","$ref":"#/definitions/TerminalHorizonMonitor"}},"horizonCode":{"type":"integer","format":"int32"},"dmcCode":{"type":"integer","format":"int32"}}},"TerminalBlockTime":{"type":"object","properties":{"id":{"originalRef":"TerminalBlockTimeId","$ref":"#/definitions/TerminalBlockTimeId"}}},"TerminalBlockTimeId":{"type":"object","properties":{"terminalId":{"type":"integer","format":"int64"},"version":{"type":"integer","format":"int32"},"day":{"type":"integer","format":"int32"},"fromTime":{"originalRef":"LocalTime","$ref":"#/definitions/LocalTime"},"toTime":{"originalRef":"LocalTime","$ref":"#/definitions/LocalTime"}}},"TerminalClientDetails":{"type":"object","properties":{"id":{"originalRef":"TerminalClientDetailsId","$ref":"#/definitions/TerminalClientDetailsId"},"websocketId":{"type":"integer","format":"int32"},"logstashId":{"type":"integer","format":"int32"},"dnsPrimaryId":{"type":"integer","format":"int32"},"dnsBackupId":{"type":"integer","format":"int32"}}},"TerminalClientDetailsId":{"type":"object","properties":{"terminalId":{"type":"integer","format":"int64"},"version":{"type":"integer","format":"int32"},"connectionType":{"type":"integer","format":"int32"}}},"TerminalClientMain":{"type":"object","properties":{"id":{"originalRef":"TerminalClientMainId","$ref":"#/definitions/TerminalClientMainId"},"wsConnectionTimeout":{"type":"integer","format":"int32"},"wsConnectionRetries":{"type":"integer","format":"int32"},"wsReplyTimeOut":{"type":"integer","format":"int32"},"enrollPort":{"type":"integer","format":"int32"},"wsPort":{"type":"integer","format":"int32"},"encryptionId":{"type":"integer","format":"int32"},"filebeatFrequency":{"type":"integer","format":"int32"},"metricbeatFrequency":{"type":"integer","format":"int32"},"lowFrequency":{"type":"integer","format":"int32"},"mediumFrequency":{"type":"integer","format":"int32"},"highFrequency":{"type":"integer","format":"int32"},"applicationPath":{"type":"string"},"applicationStartupScript":{"type":"string"}}},"TerminalClientMainId":{"type":"object","properties":{"terminalId":{"type":"integer","format":"int64"},"version":{"type":"integer","format":"int32"}}},"TerminalCommunicationDetails":{"type":"object","properties":{"id":{"originalRef":"TerminalCommunicationDetailsId","$ref":"#/definitions/TerminalCommunicationDetailsId"},"gateway":{"type":"string"},"subnetMask":{"type":"string"},"physicalIp":{"type":"string"},"vpnIp":{"type":"string"},"websocketId":{"type":"integer","format":"int32"},"canvasId":{"type":"integer","format":"int32"},"ntpPrimaryId":{"type":"integer","format":"int32"},"dnsPrimaryId":{"type":"integer","format":"int32"},"securityApplianceId":{"type":"integer","format":"int32"},"certificateAuthorityId":{"type":"integer","format":"int32"},"softwareId":{"type":"integer","format":"int32"},"documentId":{"type":"integer","format":"int32"},"pppoeUsername":{"type":"string"},"pppoePassword":{"type":"string"},"communicationTypeId":{"type":"integer","format":"int32"},"communicationProtocolId":{"type":"integer","format":"int32"}}},"TerminalCommunicationDetailsId":{"type":"object","properties":{"terminalId":{"type":"integer","format":"int64"},"version":{"type":"integer","format":"int32"},"connectionType":{"type":"integer","format":"int32"}}},"TerminalCommunicationMain":{"type":"object","properties":{"id":{"originalRef":"TerminalCommunicationMainId","$ref":"#/definitions/TerminalCommunicationMainId"},"vpnGroup":{"type":"string"},"vpnPass":{"type":"string"},"canvasConnectionTimeOut":{"type":"integer","format":"int32"},"canvasReplyTimeOut":{"type":"integer","format":"int32"},"applicationEncryptionId":{"type":"integer","format":"int32"},"networkEncryptionId":{"type":"integer","format":"int32"},"canvasConnectionRetries":{"type":"integer","format":"int32"}}},"TerminalCommunicationMainId":{"type":"object","properties":{"terminalId":{"type":"integer","format":"int64"},"version":{"type":"integer","format":"int32"}}},"TerminalHorimonMonitorId":{"type":"object","properties":{"terminalId":{"type":"integer","format":"int64"},"version":{"type":"integer","format":"int32"},"screenNum":{"type":"integer","format":"int32"}}},"TerminalHorizonMonitor":{"type":"object","properties":{"id":{"originalRef":"TerminalHorimonMonitorId","$ref":"#/definitions/TerminalHorimonMonitorId"},"screenTypeId":{"type":"integer","format":"int32"},"streamId":{"type":"integer","format":"int32"},"macAddress":{"type":"string"}}},"TerminalOper":{"type":"object","properties":{"id":{"originalRef":"TerminalOperId","$ref":"#/definitions/TerminalOperId"},"timezone":{"type":"integer","format":"int32"}}},"TerminalOperId":{"type":"object","properties":{"terminalId":{"type":"integer","format":"int64"},"version":{"type":"integer","format":"int32"}}},"TerminalSoftware":{"type":"object","properties":{"id":{"originalRef":"TerminalSoftwareId","$ref":"#/definitions/TerminalSoftwareId"},"updated":{"type":"string","format":"date-time"},"posUpdated":{"type":"string","format":"date-time"},"reportVersion":{"type":"string"}}},"TerminalSoftwareId":{"type":"object","properties":{"terminalId":{"type":"integer","format":"int64"},"name":{"type":"string"},"version":{"type":"integer","format":"int32"}}},"DMCLoginRequest":{"type":"object","required":["password","terminalId"],"properties":{"terminalId":{"type":"integer","format":"int64"},"password":{"type":"string"},"uniqueDeviceId":{"type":"string"}}},"VerifyTerminalResponse":{"type":"object","properties":{"cashRegister":{"type":"boolean"}}},"InactiveGamesRequest":{"type":"object","properties":{"games":{"type":"array","items":{"type":"integer","format":"int32"}}}}}}